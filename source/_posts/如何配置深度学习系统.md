---
title: 如何配置深度学习系统
tags: 系统
mathjax: false
abbrlink: 65507
date: 2019-11-02 14:10:35
---
## Anacodna相关操作
### 下载安装以及切换镜像
```python
#下载和安装anaconda
wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.2.0-Linux-x86_64.sh
bash Anaconda3-5.2.0-Linux-x86_64.sh

#切换到清华源,加快下载速度
wget https://tuna.moe/oh-my-tuna/oh-my-tuna.py
python oh-my-tuna.py
```
conda环境创建、退出和移除
```python
conda create --name py36 python=3.6 #创建环境
conda activate py36 #激活环境
conda deactivate py36 #退出环境
conda remove --name py36 --all #删除环境
conda info -e #查看系统中的所有环境
```
conda查找包的所有版本
```python
conda search tensorflow
```
conda瘦身
```python
conda clean -p      //删除没有用的包
conda clean -t      //清理tar
```
## 查看系统内存和进程
```python
#安装系统查看器
pip install glances
```
运行`glances`查看系统状态
![K02cEn.png](https://s2.ax1x.com/2019/10/26/K02cEn.png)
<!--more-->
## 深度学习环境创建
注意不需要手动配置cuda和cudnn,直接conda安装
### TF环境
1.x推荐1.14.0版本
```python
conda install tensorflow-gpu==1.14.0
#conda install tensorflow-gpu //默认是2.0版本
conda install keras
```
### Torch环境
```python
conda install pytorch torchvision cudatoolkit=10.0
```
### 在线安装失败
有可能因为网络原因下载失败，因此可以先下载然后本地安装，tf和torch也类似

cuda和cudnn安装
```python
wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/linux-64/cudnn-7.3.1-cuda10.0_0.tar.bz2
conda install cudnn-7.3.1-cuda10.0_0.tar.bz2 #本地安装
wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/linux-64/cudatoolkit-10.0.130-0.tar.bz2
conda install cudatoolkit-10.0.130-0.tar.bz2 #本地安装
```
pytorch gpu版本
```python
wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/linux-64/pytorch-1.3.0-py3.6_cuda10.0.130_cudnn7.6.3_0.tar.bz2
conda install pytorch-1.3.0-py3.6_cuda10.0.130_cudnn7.6.3_0.tar.bz2
```
## 从头配置centos服务器环境
参考这篇 [博客](https://tengzi-will.github.io/2018/12/12/%E9%85%8D%E7%BD%AE-CentOS7-GPU-%E7%8E%AF%E5%A2%83/)